#Mac or Linux

python3.11 -m venv .venv311

source .venv311/bin/activate   # On macOS/Linux

python -V                      # should show 3.11.x

pip -V                         # path should be .venv311





pip install -U pip wheel setuptools



# Torch (CPU) — pick the newest available on that index: 2.2.2

pip install "torch==2.2.2" --index-url https://download.pytorch.org/whl/cpu



# FAISS (broad macOS support)

pip install "faiss-cpu==1.8.0.post1"



# The rest (now resolver will be happy)

pip install "sentence-transformers>=3.0" "fastapi>=0.115" uvicorn \

           "SQLAlchemy>=2.0" "psycopg[binary]" pandas tqdm





#Windows

py -3.11 -m venv .venv311

.venv311\Scripts\Activate.ps1

.venv311\Scripts\activate.bat



python -V   # should say Python 3.11.x

pip -V      # path should show .venv311\Lib\site-packages



pip install torch==2.2.2 --index-url https://download.pytorch.org/whl/cpu



pip install faiss-cpu #it may fail. The Windows-friendly alternative is:



hnswlib (pip install hnswlib)

or

annoy (pip install annoy)



pip install "sentence-transformers>=3.0" "fastapi>=0.115" uvicorn ^

"SQLAlchemy>=2.0" "psycopg[binary]" pandas tqdm





python lesson2_build_index.py



uvicorn lesson2_search_api:app --reload




lesson_2_like_chatgpt_answer

pip install  "SQLAlchemy>=2.0" "psycopg[binary]" pgvector

# for  mac  users
# ensure PG15 is installed or any version you use
brew install postgresql@15

# build pgvector against PG15 (uses PG15's pg_config)
brew install git make
git clone https://github.com/pgvector/pgvector.git
cd pgvector
make PG_CONFIG="$(brew --prefix postgresql@15)/bin/pg_config"
make PG_CONFIG="$(brew --prefix postgresql@15)/bin/pg_config" install

# for linux users
export PGAPP="/Applications/Postgres.app/Contents/Versions/15"
git clone https://github.com/pgvector/pgvector.git
cd pgvector
make PG_CONFIG="$PGAPP/bin/pg_config"
make PG_CONFIG="$PGAPP/bin/pg_config" install

# for  windows users
Windows (EDB): open StackBuilder → add the pgvector extension for your server → restart service.

# everyone should do the below
ALTER TABLE public.quotes ADD COLUMN IF NOT EXISTS embedding vector(384);

CREATE INDEX IF NOT EXISTS quotes_embedding_ivfflat
  ON public.quotes USING ivfflat (embedding vector_cosine_ops) WITH (lists = 100);

ANALYZE public.quotes;

#paste in terminal
python lesson3_pgvector_backfill.py

uvicorn lesson2_like_chatgpt_answer:app --reload


#Vue Side
# insert the below code to the top of lesson2_like_chatgpt_answer.py
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:5173", "http://127.0.0.1:5173"],
    allow_methods=["*"],
    allow_headers=["*"],
)

# Create a 'frontend' folder in your project folder
cd frontend

( if you don't have node js installed on your pc, install here: https://nodejs.org/en )

npm create vite@latest rag-ui -- --template vue
cd rag-ui
npm install

# Create a .env in the root (mine is rag-ui) so the UI knows where your API runs: then paste the below code inside it
VITE_API_BASE=http://127.0.0.1:8000

# Open vite.config.js and paste this (This is to avoid CORS via Vite proxy) - you can read what CORS means on google or chatgpt
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  server: {
    proxy: {
      '/api': {
        target: 'http://127.0.0.1:8000',
        changeOrigin: true,
        rewrite: (p) => p.replace(/^\/api/, ''),
      },
    },
  },
})


# I use TailwindCSS ( https://tailwindcss.com/ )
# from your Vite app root
npm i -D tailwindcss@3 postcss autoprefixer
npx tailwindcss init -p

# if npx tailwindcss init -p does not work for you, do the below
# create tailwind.config.js in the root (mine is rag-ui)
export default {
  content: ['./index.html', './src/**/*.{vue,js,ts,jsx,tsx}'],
  theme: { extend: {} },
  plugins: [require('@tailwindcss/typography')],
}


# create postcss.config.js same as above and paste below
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}

# install the below
npm i -D @tailwindcss/typography

# goto src/style.css and paste the below
@tailwind base;
@tailwind components;
@tailwind utilities;


# go to src/App.vue and paste my code from github

# then run
npm run dev



